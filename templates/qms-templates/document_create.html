{% include "qms-templates/header.html" %}

<style>
  html, body{ height:100%; margin:0; }
  body{ display:flex; flex-direction:column; }
  .main-content{ flex:1; }

  :root{
    --em-blue:#006EB3;
    --ok:#1F9D55;
    --line: rgba(11,18,32,.12);
    --muted: rgba(11,18,32,.60);
    --shadow: 0 14px 30px rgba(0,0,0,.08);
  }

  .page{
    max-width:900px;
    margin: 18px auto 0;
    padding: 0 18px 26px;
  }

  .card{
    background:#fff;
    border:1px solid var(--line);
    border-radius:18px;
    box-shadow: var(--shadow);
    padding:24px;
  }

  .header{
    margin-bottom:14px;
  }

  h1{
    margin:0;
    font-size:22px;
    font-weight:900;
    letter-spacing:.2px;
  }

  .sub{
    margin:6px 0 0;
    font-size:13px;
    color:var(--muted);
  }

  .form-group{
    margin-bottom:16px;
  }

  label{
    display:block;
    font-size:13px;
    font-weight:800;
    margin-bottom:6px;
  }

  input, select, textarea{
    width:100%;
    padding:11px;
    border-radius:12px;
    border:1px solid var(--line);
    font-size:13px;
    outline:none;
    transition:.12s ease;
  }

  input:focus, select:focus, textarea:focus{
    border-color:var(--em-blue);
    box-shadow:0 0 0 3px rgba(0,110,179,.08);
  }

  textarea{
    min-height:80px;
    resize:vertical;
  }

  .actions{
    margin-top:18px;
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }

  .btn{
    display:inline-flex;
    align-items:center;
    gap:8px;
    background:var(--em-blue);
    color:#fff;
    border:0;
    padding:11px 20px;
    border-radius:12px;
    font-weight:900;
    cursor:pointer;
    transition:.15s ease;
  }

  .btn.success{
    background:var(--ok);
  }

  .btn.secondary{
    background:#fff;
    color:#0B1220;
    border:1px solid var(--line);
  }

  .btn:hover{
    transform:translateY(-1px);
  }

  .hint{
    margin-top:6px;
    font-size:12px;
    color:var(--muted);
  }
</style>

<div class="main-content">
  <div class="page">
    <div class="card">

      <div class="header">
        {% if is_edit %}
          <h1>Edit Document</h1>
          <p class="sub">Update document information or replace the PDF file.</p>
        {% else %}
          <h1>Upload Document</h1>
          <p class="sub">Only Quality and Admin are allowed to upload official documents.</p>
        {% endif %}
      </div>

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-group">
          <label>Title</label>
          {{ form.title }}
        </div>

        <div class="form-group">
          <label>Description</label>
          {{ form.description }}
        </div>

        <div class="form-group">
          <label>Department</label>
          {{ form.department }}
        </div>

        <div class="form-group">
          <label>PDF File</label>
          {{ form.pdf_file }}
          <div class="hint">Upload official PDF document only.</div>
        </div>

        <div class="form-group">
          <label>Status</label>
          {{ form.status }}
        </div>

        <div class="form-group">
          <label>Disabled Reason</label>
          {{ form.disabled_reason }}
        </div>

        <div class="actions">
          {% if is_edit %}
            <button class="btn success" type="submit">
              Update Document
            </button>
          {% else %}
            <button class="btn" type="submit">
              Upload Document
            </button>
          {% endif %}

          <a href="{% url 'documents:list' %}" class="btn secondary">
            Back
          </a>
        </div>

      </form>
    </div>
  </div>
</div>

{% include "qms-templates/footer.html" %}